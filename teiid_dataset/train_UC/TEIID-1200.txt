Non-parsable SQL in transformation provides no help to user - NPE in stack trace
Neither the error nor the stack trace provides the user with any assistance in correcting their SQL error. (BTW, in MMx 554, this parsed.)

While attempting the Update Virtual Groups modeling, I ran into this problem defining the Update procedure for UpdateProduct. After pasting in the SQL text, I validated the SQL and received:
The query is not parsable.
Error encountered while validating the transformation.

The message log shows:
Error 2010-06-30 11:32:04.784 Error encountered while validating the transformation.
Please check the Message log for exceptions
java.lang.NullPointerException
	at org.teiid.query.validator.ValidationVisitor.validateTranslateCriteria(ValidationVisitor.java:536)
	at org.teiid.query.validator.ValidationVisitor.visit(ValidationVisitor.java:479)
	at org.teiid.query.sql.proc.TranslateCriteria.acceptVisitor(TranslateCriteria.java:134)
	at org.teiid.query.sql.navigator.AbstractNavigator.visitVisitor(AbstractNavigator.java:53)
	at org.teiid.query.sql.navigator.PreOrPostOrderNavigator.preVisitVisitor(PreOrPostOrderNavigator.java:125)
	at org.teiid.query.sql.navigator.PreOrPostOrderNavigator.visit(PreOrPostOrderNavigator.java:461)
	at org.teiid.query.sql.proc.TranslateCriteria.acceptVisitor(TranslateCriteria.java:134)
	at org.teiid.query.sql.navigator.AbstractNavigator.visitNode(AbstractNavigator.java:62)
	at org.teiid.query.validator.Validator$1.visitNode(Validator.java:88)
	at org.teiid.query.sql.navigator.PreOrPostOrderNavigator.visit(PreOrPostOrderNavigator.java:475)
	at org.teiid.query.sql.lang.Update.acceptVisitor(Update.java:157)
	at org.teiid.query.sql.navigator.AbstractNavigator.visitNode(AbstractNavigator.java:62)
	at org.teiid.query.validator.Validator$1.visitNode(Validator.java:88)
	at org.teiid.query.sql.navigator.PreOrPostOrderNavigator.visit(PreOrPostOrderNavigator.java:158)
	at org.teiid.query.sql.proc.AssignmentStatement.acceptVisitor(AssignmentStatement.java:133)
	at org.teiid.query.sql.navigator.AbstractNavigator.visitNode(AbstractNavigator.java:62)
	at org.teiid.query.validator.Validator$1.visitNode(Validator.java:88)
	at org.teiid.query.sql.navigator.AbstractNavigator.visitNodes(AbstractNavigator.java:73)
	at org.teiid.query.sql.navigator.PreOrPostOrderNavigator.visit(PreOrPostOrderNavigator.java:175)
	at org.teiid.query.sql.proc.Block.acceptVisitor(Block.java:88)
	at org.teiid.query.sql.navigator.AbstractNavigator.visitNode(AbstractNavigator.java:62)
	at org.teiid.query.validator.Validator$1.visitNode(Validator.java:88)
	at org.teiid.query.sql.navigator.PreOrPostOrderNavigator.visit(PreOrPostOrderNavigator.java:289)
	at org.teiid.query.sql.proc.IfStatement.acceptVisitor(IfStatement.java:147)
	at org.teiid.query.sql.navigator.AbstractNavigator.visitNode(AbstractNavigator.java:62)
	at org.teiid.query.validator.Validator$1.visitNode(Validator.java:88)
	at org.teiid.query.sql.navigator.AbstractNavigator.visitNodes(AbstractNavigator.java:73)
	at org.teiid.query.sql.navigator.PreOrPostOrderNavigator.visit(PreOrPostOrderNavigator.java:175)
	at org.teiid.query.sql.proc.Block.acceptVisitor(Block.java:88)
	at org.teiid.query.sql.navigator.AbstractNavigator.visitNode(AbstractNavigator.java:62)
	at org.teiid.query.validator.Validator$1.visitNode(Validator.java:88)
	at org.teiid.query.sql.navigator.PreOrPostOrderNavigator.visit(PreOrPostOrderNavigator.java:218)
	at org.teiid.query.sql.proc.CreateUpdateProcedureCommand.acceptVisitor(CreateUpdateProcedureCommand.java:144)
	at org.teiid.query.validator.Validator.executeValidation(Validator.java:93)
	at org.teiid.query.validator.Validator.validate(Validator.java:55)
	at org.teiid.query.validator.Validator.validate(Validator.java:41)
	at com.metamatrix.modeler.transformation.validation.TransformationValidator.validateCommand(TransformationValidator.java:389)
	at com.metamatrix.modeler.transformation.validation.TransformationValidator.validateSql(TransformationValidator.java:297)
	at com.metamatrix.query.internal.ui.sqleditor.component.QueryDisplayComponent.validateSql(QueryDisplayComponent.java:263)
	at com.metamatrix.query.internal.ui.sqleditor.component.QueryDisplayComponent.setText(QueryDisplayComponent.java:178)
	at com.metamatrix.query.ui.sqleditor.SqlEditorPanel.setTextInTransaction(SqlEditorPanel.java:421)
	at com.metamatrix.query.ui.sqleditor.SqlEditorPanel$4.run(SqlEditorPanel.java:464)
	at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:464)
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:372)
	at org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:507)
	at com.metamatrix.query.ui.sqleditor.SqlEditorPanel.setText(SqlEditorPanel.java:470)
	at com.metamatrix.query.ui.sqleditor.SqlEditorPanel.setText(SqlEditorPanel.java:495)
	at com.metamatrix.query.ui.sqleditor.SqlEditorPanel.validate(SqlEditorPanel.java:526)
	at com.metamatrix.query.ui.sqleditor.SqlEditorPanelWrapper.validate(SqlEditorPanelWrapper.java:138)
	at com.metamatrix.query.internal.ui.sqleditor.actions.Validate.doRun(Validate.java:52)
	at com.metamatrix.ui.actions.AbstractAction$1.run(AbstractAction.java:537)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)
	at com.metamatrix.ui.actions.AbstractAction.run(AbstractAction.java:540)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
	at org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:452)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1176)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3493)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3112)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1311)

